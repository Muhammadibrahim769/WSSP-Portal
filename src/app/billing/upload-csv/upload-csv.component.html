<div class="row main">
  <mat-tab-group mat-align-tabs="center" animationDuration="500ms">
    <mat-tab label="Uploads">
      <div class="col-md-12 pt-3">
        <div class="container scroll-show">
            <input class="form-control mb-5" type="file" class="upload" (change)="changeListener($event.target.files)">
         
            <table class="table  mt-5">
              <thead class="thead-dark">
                <tr>
                  <th class="align-middle" *ngFor="let item of lines[0] ">{{item}}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of linesR[0] | paginate: { itemsPerPage: count, currentPage: p } ">
                  <td class="align-middle" *ngFor="let itemm of lines[0]; let j = index ">{{item[j]}}</td>
                  
                </tr>
              </tbody>
            </table>
            <div class="d-flex justify-content-end">
              <button type="button" class="btn btn-primary" (click)="submitData()">Submit</button>
            </div>
          </div>
          <div class="d-flex justify-content-end">
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
          </div>
    </div>
    </mat-tab>
    <mat-tab label="Downloads">
      <div class="bills">
        <button class=" btn ml-3" mat-raised-button (click)="onErrorScrollDownloadClick()">
          Error In Scroll
        </button>
        <table mat-table [dataSource]="documentDatasourceBill">

          <ng-container matColumnDef="fileName">
            <th mat-header-cell *matHeaderCellDef>Document Name</th>
            <td mat-cell *matCellDef="let element">
              {{ element.fileName}}
            </td>
          </ng-container>


          <ng-container matColumnDef="fileType">
            <th mat-header-cell *matHeaderCellDef>Document Type</th>
            <td mat-cell *matCellDef="let element">
              {{ element.fileType}}
            </td>
          </ng-container>

          <ng-container matColumnDef="byteDocumentFile">
            <th mat-header-cell *matHeaderCellDef>Download</th>
            <td mat-cell *matCellDef="let element">
              <button mat-raised-button (click)="
              downloadFile(
                element.byteDocumentFile,
                element.fileName
              )
            ">
                Download Attachment &nbsp;<i class="material-icons">
                  cloud_download
                </i>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="documentColumnBill"></tr>
          <tr mat-row *matRowDef="let row; columns: documentColumnBill"></tr>
        </table>
        <div *ngIf="isLoadingErrorScroll" style="display: flex; justify-content: center; align-items: center; background: white; margin-top: 5PX">
          <mat-progress-spinner class="spinnerClr" mode="indeterminate">
          </mat-progress-spinner>
      </div>
      </div>
      <div class="downloads">
        <button class="ml-3" mat-raised-button (click)="onDownloadClick()">
          Download Pdf bill Files
        </button>
        <table mat-table [dataSource]="documentDatasource">

          <ng-container matColumnDef="fileName">
            <th mat-header-cell *matHeaderCellDef>Document Name</th>
            <td mat-cell *matCellDef="let element">
              {{element.fileName}}
            </td>
          </ng-container>


          <ng-container matColumnDef="fileType">
            <th mat-header-cell *matHeaderCellDef>Document Reference No</th>
            <td mat-cell *matCellDef="let element">
              {{element.fileType}}
            </td>
          </ng-container>

          <ng-container matColumnDef="byteDocumentFile">
            <th mat-header-cell *matHeaderCellDef>Download</th>
            <td mat-cell *matCellDef="let element">
              <button mat-raised-button (click)="
              downloadFile(
                element.byteDocumentFile,
                element.fileName
              )
            ">
                Download Attachment &nbsp;<i class="material-icons">
                  cloud_download
                </i>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="documentColumn"></tr>
          <tr mat-row *matRowDef="let row; columns: documentColumn"></tr>
        </table>
        <div *ngIf="isLoadingPdfFiles" style="display: flex; justify-content: center; align-items: center; background: white; margin-top: 5PX">
          <mat-progress-spinner class="spinnerClr" mode="indeterminate">
          </mat-progress-spinner>
      </div>
      </div>
      <div class="downloads">
        <button class="ml-3" mat-raised-button (click)="onErrorDistributorDownloadClick()">
          Distributor Code Error Files
        </button>
        <table mat-table [dataSource]="errorDocumentDatasource">

          <ng-container matColumnDef="fileName">
            <th mat-header-cell *matHeaderCellDef>Document Name</th>
            <td mat-cell *matCellDef="let element">
              {{element.fileName}}
            </td>
          </ng-container>


          <ng-container matColumnDef="fileType">
            <th mat-header-cell *matHeaderCellDef>Document Reference No</th>
            <td mat-cell *matCellDef="let element">
              {{element.fileType}}
            </td>
          </ng-container>

          <ng-container matColumnDef="byteDocumentFile">
            <th mat-header-cell *matHeaderCellDef>Download</th>
            <td mat-cell *matCellDef="let element">
              <button mat-raised-button (click)="
              downloadFile(
                element.byteDocumentFile,
                element.fileName
              )
            ">
                Download Attachment &nbsp;<i class="material-icons">
                  cloud_download
                </i>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="errorDocumentColumn"></tr>
          <tr mat-row *matRowDef="let row; columns: errorDocumentColumn"></tr>
        </table>
        <div *ngIf="isLoadingDistributorFiles" style="display: flex; justify-content: center; align-items: center; background: white; margin-top: 5PX">
          <mat-progress-spinner class="spinnerClr" mode="indeterminate">
          </mat-progress-spinner>
      </div>
      </div>
    </mat-tab>
    <mat-tab label="Upload Scroll">
      <div class="col-md-12 d-flex pt-3 pb-3">
        <div class="container scroll-show">
          <input type="file" accept=".xlsx, .xls, .csv" (change)="onUpload($event)" />
        </div>
        <div>
          <button mat-raised-button (click)="onSubmit()">
            Upload Document &nbsp;<i class="material-icons">
              cloud_upload
            </i>
          </button>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>